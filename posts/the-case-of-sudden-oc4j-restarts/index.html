<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="The Case of Sudden OC4J Restarts [part 1]" /><meta name="author" content="George Aristy" /><meta property="og:locale" content="en_US" /><meta name="description" content="Our OC4J instance would restart itself every once in a while." /><meta property="og:description" content="Our OC4J instance would restart itself every once in a while." /><link rel="canonical" href="https://georgearisty.dev/posts/the-case-of-sudden-oc4j-restarts/" /><meta property="og:url" content="https://georgearisty.dev/posts/the-case-of-sudden-oc4j-restarts/" /><meta property="og:site_name" content="George Aristy" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2013-02-27T12:33:00-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="The Case of Sudden OC4J Restarts [part 1]" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@George Aristy" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"George Aristy"},"dateModified":"2017-07-30T12:52:39-04:00","datePublished":"2013-02-27T12:33:00-05:00","description":"Our OC4J instance would restart itself every once in a while.","headline":"The Case of Sudden OC4J Restarts [part 1]","mainEntityOfPage":{"@type":"WebPage","@id":"https://georgearisty.dev/posts/the-case-of-sudden-oc4j-restarts/"},"url":"https://georgearisty.dev/posts/the-case-of-sudden-oc4j-restarts/"}</script><title>The Case of Sudden OC4J Restarts [part 1] | George Aristy</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="George Aristy"><meta name="application-name" content="George Aristy"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="/assets/lib/fonts/main.css"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="/assets/lib/bootstrap-4.6.1/bootstrap.min.css"><link rel="stylesheet" href="/assets/lib/fontawesome-free-5.15.4/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/lib/magnific-popup-1.1.0/magnific-popup.css"> <script src="/assets/lib/jquery-3.6.0/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/portrait.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">George Aristy</a></div><div class="site-subtitle font-italic">Blog about software craftmanship</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/bookshelf/" class="nav-link"> <i class="fa-fw fas fa-book ml-xl-3 mr-xl-3 unloaded"></i> <span>BOOKSHELF</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-project-diagram ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/talks/" class="nav-link"> <i class="fa-fw fas fa-comment ml-xl-3 mr-xl-3 unloaded"></i> <span>TALKS</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/llorllale" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['george.aristy','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/georgearisty/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://stackoverflow.com/users/1623885/george-aristy" aria-label="stack-overflow" target="_blank" rel="noopener"> <i class="fab fa-stack-overflow"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>The Case of Sudden OC4J Restarts [part 1]</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>The Case of Sudden OC4J Restarts [part 1]</h1><div class="post-meta text-muted"><div> By <em> <a href="https://www.linkedin.com/in/georgearisty">George Aristy</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1361986380" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2013-02-27 </em> </span> <span> Updated <em class="timeago" data-ts="1501433559" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2017-07-30 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="710 words"> <em>3 min</em> read</span></div></div></div><div class="post-content"><html><head><meta http-equiv=Content-Type content="text/html; charset=windows-1252"><meta name=Generator content="Microsoft Word 12 (filtered)"><style></style><body lang=EN-US link=blue vlink=purple><div class=WordSection1><p class=MsoNormal><i>[Please read part 2 <a href="http://llorllale.blogspot.com/2013/04/the-case-of-sudden-oc4j-restarts-part-2.html">here</a>.]</i></p><p class=MsoNormal>Our OC4J instance would restart itself every once in a while - no culprits found looking through unix' <i>history</i>. My next thought was to check the crontab but my user doesn't have access to that. Weighing bureaucracy (soliciting the unix admins to check it or give me access) versus pursuing other means of inquiry: <b>of course</b> I chose the latter!</p><p class=MsoNormal>From the <a href="http://docs.oracle.com/cd/B13597_05/core.904/b12057/intro.htm#i1015084">opmn</a>log file:</p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>13/02/25 10:48:15 [ons-connect] Passive connection 16438,xxx.xxx.xxx.xxx,6233 missing connect</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>13/02/25 11:45:28 [ons-connect] Passive connection 1667c, xxx.xxx.xxx.xxx,6233 missing connect</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>13/02/25 12:06:18 [ons-connect] Passive connection 16751, xxx.xxx.xxx.xxx,6233 missing connect</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;color:red'>13/02/25 14:22:19 [libopmnoc4j] OC4J ping attempt timed out</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;color:red'>13/02/25 14:22:19 [libopmnoc4j] Process Ping Failed: default_group~oc4j_esbas~default_group~1 (1786977551:2786)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;color:red'>13/02/25 14:23:09 [libopmnoc4j] OC4J ping attempt timed out</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;color:red'>13/02/25 14:23:09 [libopmnoc4j] Process Ping Failed: default_group~oc4j_esbas~default_group~1 (1786977551:2786)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;color:red'>13/02/25 14:23:59 [libopmnoc4j] OC4J ping attempt timed out</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;color:red'>13/02/25 14:23:59 [libopmnoc4j] Process Ping Failed: default_group~oc4j_esbas~default_group~1 (1786977551:2786)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;color:red'>13/02/25 14:23:59 [libopmnoc4j] Process Unreachable: default_group~oc4j_esbas~default_group~1 (1786977551:2786)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;color:red'>13/02/25 14:23:59 [pm-process] Restarting Process: default_group~oc4j_esbas~default_group~1 (1786977551:2786)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;color:red'>13/02/25 14:28:59 [pm-process] Stopping Process: default_group~oc4j_esbas~default_group~1 (1786977551:2786)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;color:red'>13/02/25 14:28:59 [libopmnoc4j] Forcefully Terminating Process: default_group~oc4j_esbas~default_group~1 (1786977551:2786)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>13/02/25 14:29:01 [pm-process] Starting Process: default_group~oc4j_esbas~default_group~1 (1786977551:0)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>13/02/25 14:30:03 [pm-process] Process Alive: default_group~oc4j_esbas~default_group~1 (1786977551:9531)</span></p><p class=MsoNormal>Classic Ping-Echo tactic to satisfy quality attributes related to availability in system architectures.</p><p class=MsoNormal><i>Anything</i> could be causing those ping timeouts, but at least now I know I don't have to deal with the sysadmins. Neat.</p><p class=MsoNormal>In the instance's message log I see a few instances of the following occurring at around the same timeframe:</p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>&lt;MESSAGE&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>  &lt;HEADER&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;TSTZ_ORIGINATING&gt;2013-02-25T14:21:57.735-04:00&lt;/TSTZ_ORIGINATING&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;COMPONENT_ID&gt;tip&lt;/COMPONENT_ID&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;MSG_TYPE TYPE=&quot;ERROR&quot;&gt;&lt;/MSG_TYPE&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;MSG_LEVEL&gt;1&lt;/MSG_LEVEL&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;HOST_ID&gt;hostid123&lt;/HOST_ID&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;HOST_NWADDR&gt;xxx.xxx.xxx.xxx&lt;/HOST_NWADDR&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;MODULE_ID&gt;esb.server.dispatch.agent&lt;/MODULE_ID&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;THREAD_ID&gt;90&lt;/THREAD_ID&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;USER_ID&gt;abcde&lt;/USER_ID&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>  &lt;/HEADER&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>  &lt;CORRELATION_DATA&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;EXEC_CONTEXT_ID&gt;&lt;UNIQUE_ID&gt;1697007412:56432:1360980064744:1021&lt;/UNIQUE_ID&gt;&lt;SEQ&gt;0&lt;/SEQ&gt;&lt;/EXEC_CONTEXT_ID&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>  &lt;/CORRELATION_DATA&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>  &lt;PAYLOAD&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;MSG_TEXT&gt;Failed to commit transaction&lt;/MSG_TEXT&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>    &lt;SUPPL_DETAIL&gt;&lt;![CDATA[oracle.tip.esb.server.common.exceptions.BusinessEventRetriableException: Failed to commit transaction; transaction status is &quot;6&quot;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at oracle.tip.esb.server.common.JTAHelper.commitTransaction(JTAHelper.java:216)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at oracle.tip.esb.server.dispatch.agent.ESBWork.run(ESBWork.java:155)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at oracle.j2ee.connector.work.WorkWrapper.runTargetWork(WorkWrapper.java:242)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at oracle.j2ee.connector.work.WorkWrapper.doWork(WorkWrapper.java:215)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at oracle.j2ee.connector.work.WorkWrapper.run(WorkWrapper.java:190)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at EDU.oswego.cs.dl.util.concurrent.PooledExecutor$Worker.run(PooledExecutor.java:825)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at java.lang.Thread.run(Thread.java:595)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>Caused by: javax.transaction.RollbackException: Timed out</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at com.evermind.server.ApplicationServerTransaction.checkForRollbackOnlyWhileInCommit(ApplicationServerTransaction.java:664)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at com.evermind.server.ApplicationServerTransaction.doCommit(ApplicationServerTransaction.java:273)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at com.evermind.server.ApplicationServerTransaction.commit(ApplicationServerTransaction.java:162)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at com.evermind.server.ApplicationServerTransactionManager.commit(ApplicationServerTransactionManager.java:475)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        at oracle.tip.esb.server.common.JTAHelper.commitTransaction(JTAHelper.java:214)</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>        ... 6 more</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>]]&gt;&lt;/SUPPL_DETAIL&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>  &lt;/PAYLOAD&gt;</span></p><p class=MsoNormal style='margin-left:.5in;line-height:normal'><span style='font-size:9.0pt'>&lt;/MESSAGE&gt;</span></p><p class=MsoNormal>This message eventually turned out to be a dead end. My immediate hypothesis is that the server is under load and thus transactions are starting to hang and being rolled back, as well as being unable to respond to OPMN's ping requests. Threads can get stuck due to many different causes, such as waiting for some I/O to complete, or entering a loop without exit condition, or competing for shared resources with other threads, etc. To find out what exactly was happening, I first need to identify the components involved in this transaction. And this is where I stumbled on my first roadblock. <i>How</i> do I trace this message back to a component. It is obvious that the <i>CORRELATION_DATA</i>element is somehow pointing me in some direction, but how do I interpret its <i>UNIQUE_ID</i>? I have yet to find a clear description of this element's contents. From <a href="http://docs.oracle.com/cd/B14099_19/core.1012/b13995/log.htm#i1039644">Oracle</a>:</p><p class=MsoNormal style='margin-left:.5in'><span style='font-size:9.0pt; line-height:115%'>Using ODL, diagnostic messages are written to log files using XML format and each message includes a HEADER element containing information about the message, <b>optionally a CORRELATION_DATA element containing information to assist in correlating messages across components</b>, and a PAYLOAD element containing the message text including optional arguments and associated values.</span></p><p class=MsoNormal>... and that's it. My hypothesis is that the <i>UNIQUE_ID</i>element's text value is a string of values delimited by colons, and each value serves as a unique identifier for every instance of any components involved in the handling of this message or operation. So far I have not been able to prove this. I haven't conclusively linked any of those values to any BPEL or ESB instance ID. If anyone out there can point to a clear description of the <i>CORRELATION_DATA</i>element and what those values above would  mean, it would be very welcome!</p><p class=MsoNormal>Next thought: monitor GC performance. It is possible that the garbage collecting mechanism is occasionally interfering with the OC4J instance's ability to respond to OPMN's ping requests. If, say, a full garbage collection is taking place (which can potentially last up to tens of seconds) while OPMN's ping arrives, then yes, a timeout can definitely happen.</p><p class=MsoNormal>Which is why I have added these flags to the process' <i>java-options</i>in opmn.xml:</p><p class=MsoNormal>                <span style='font-size:9.0pt;line-height: 115%'>-XX:-PrintGCDetails -XX:-PrintGCTimeStamps -Xloggc:gc.log</span></p><p class=MsoNormal>Now it's just a matter of waiting for the next event...</p></div></div><div class="post-tail-wrapper text-muted"><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://t.me/share/url?url=https://georgearisty.dev/posts/the-case-of-sudden-oc4j-restarts/&amp;text=The Case of Sudden OC4J Restarts [part 1] - George Aristy" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://georgearisty.dev/posts/the-case-of-sudden-oc4j-restarts/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <a href="https://news.ycombinator.com/submitlink?u=https://georgearisty.dev/posts/the-case-of-sudden-oc4j-restarts/&amp;t=The Case of Sudden OC4J Restarts [part 1] - George Aristy" data-toggle="tooltip" data-placement="top" title="Hacker News" target="_blank" rel="noopener" aria-label="Hacker News"> <i class="fa-fw fab fa-hacker-news"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/kubectl-plugins/">Plugins I use with kubectl</a><li><a href="/posts/test-driven-development-by-example/">Test-Driven Development By Example</a><li><a href="/posts/ckad/">Certified Kubernetes Application Developer: My Experience</a><li><a href="/posts/clean-architecture/">Clean Architecture: A Craftsman's Guide to Software Structure and Design</a><li><a href="/posts/build-trap/">Escaping the Build Trap: How Effective Product Management Creates Real Value</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/go/">go</a> <a class="post-tag" href="/tags/golang/">golang</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/book/">book</a> <a class="post-tag" href="/tags/learning-go/">learning-go</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/vim/">vim</a> <a class="post-tag" href="/tags/concurrency/">concurrency</a> <a class="post-tag" href="/tags/elegant-objects/">elegant-objects</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/learning-go-book/"><div class="card-body"> <em class="timeago small" data-ts="1682448600" > 2023-04-25 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Learning Go: An Idiomatic Approach to Real-World Go Programming</h3><div class="text-muted small"><p> Written by Jon Bodner, Learning Go: An Idiomatic Approach to Real-World Go Programming is, in my opinion, one of the best resources there is to learn Go, particularly if you are somewhere around ...</p></div></div></a></div><div class="card"> <a href="/posts/k8s-kube-controller-manager/"><div class="card-body"> <em class="timeago small" data-ts="1679051400" > 2023-03-17 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Kubernetes' Controller Manager</h3><div class="text-muted small"><p> Kubernetes is a platform that automates many of the complexities behind deployment, scaling, and management of resources, such as pods. Users can configure these resources imperatively using kubec...</p></div></div></a></div><div class="card"> <a href="/posts/k8s-cluster-network/"><div class="card-body"> <em class="timeago small" data-ts="1678456200" > 2023-03-10 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Understanding Kubernetes' Cluster Networking</h3><div class="text-muted small"><p> Kubernetes is a system for automating deployment, scaling, and management of containerized applications. Networking is a central part of Kubernetes, and in this article we will explore how Kuberne...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/writing-prose-in-two-languages-or-how-i/" class="btn btn-outline-primary" prompt="Older"><p>Writing prose in two languages (or how I coded some bits in application code, other bits in database code)</p></a> <a href="/posts/focus/" class="btn btn-outline-primary" prompt="Newer"><p>Focus</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "llorllale/llorllale.github.io", "data-repo-id": "MDEwOlJlcG9zaXRvcnk4MDM1Mjk5Ng==", "data-category": "Announcements", "data-category-id": "DIC_kwDOBMoW5M4COm92", "data-mapping": "title", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://www.linkedin.com/in/georgearisty">George Aristy</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/go/">go</a> <a class="post-tag" href="/tags/golang/">golang</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/book/">book</a> <a class="post-tag" href="/tags/learning-go/">learning-go</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/vim/">vim</a> <a class="post-tag" href="/tags/concurrency/">concurrency</a> <a class="post-tag" href="/tags/elegant-objects/">elegant-objects</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="/assets/lib/simple-jekyll-search-1.10.0/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="/assets/lib/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script> <script src="/assets/lib/lozad-1.16.0/lozad.min.js"></script> <script src="/assets/lib/clipboard-2.0.9/clipboard.min.js"></script> <script src="/assets/lib/dayjs-1.10.7/dayjs.min.js"></script> <script src="/assets/lib/dayjs-1.10.7/locale/en.min.js"></script> <script src="/assets/lib/dayjs-1.10.7/plugin/relativeTime.min.js"></script> <script src="/assets/lib/dayjs-1.10.7/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="/assets/lib/bootstrap-4.6.1/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-P9Y4YYSCTS"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-P9Y4YYSCTS'); }); </script>
