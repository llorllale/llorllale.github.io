---
layout: post
title: Vim Tip of the Day!
excerpt: Let's say you have to upload a bunch of data to a table and let's say you need to index them with an ID key.
date: '2013-04-09T17:26:00.001-04:00'
author: George Aristy
tags:
- printf
- vim
- line number
modified_time: '2013-04-09T17:30:08.389-04:00'
blogger_id: tag:blogger.com,1999:blog-5903491164319093451.post-1916175603848697914
blogger_orig_url: http://llorllale.blogspot.com/2013/04/vim-tip-of-day.html
---

Let's say you have to upload a bunch of data to a table and let's say you need to index them with an ID key.<br /><br />You could just declare the column to auto-increment when creating the table in the database (or, in the case of Oracle, define a trigger/sequence combo to produce those values).<br /><br />... or you could just generate them beforehand in <a href="http://vim.wikia.com/wiki/Insert_line_numbers">Vim</a> using line numbers. Yes, line numbers.<br /><br />Suppose you already have your insert statements set up in vim like this:  <br /><blockquote>insert into tmp_table values (33.832,'GC',131072,18844,502464,0.1015525);<br />insert into tmp_table values (38.272,'GC',149916,26475,502464,0.1751825);<br />insert into tmp_table values (52.808,'GC',157547,42326,502464,0.2372075);<br />insert into tmp_table values (68.815,'GC',173398,55185,633536,0.1455373);<br />insert into tmp_table values (84.570,'GC',317329,74330,633536,0.1732868);<br />insert into tmp_table values (167.147,'GC',307334,102686,635008,0.2086538);<br />insert into tmp_table values (167.355,'Full GC',102686,101944,635008,1.8805190);<br />insert into tmp_table values (184.915,'GC',338599,123368,642688,0.0918409);</blockquote>Executing <b>%s/(/\=printf('(%d,', line('.'))/</b> produces the indexes that you need (if the first column is the index field):  <br /><blockquote>insert into tmp_table values (1,33.832,'GC',131072,18844,502464,0.1015525);<br />insert into tmp_table values (2,38.272,'GC',149916,26475,502464,0.1751825);<br />insert into tmp_table values (3,52.808,'GC',157547,42326,502464,0.2372075);<br />insert into tmp_table values (4,68.815,'GC',173398,55185,633536,0.1455373);<br />insert into tmp_table values (5,84.570,'GC',317329,74330,633536,0.1732868);<br />insert into tmp_table values (6,167.147,'GC',307334,102686,635008,0.2086538);<br />insert into tmp_table values (7,167.355,'Full GC',102686,101944,635008,1.8805190);<br />insert into tmp_table values (8,184.915,'GC',338599,123368,642688,0.0918409);</blockquote>Just one more reason to love Vim!
