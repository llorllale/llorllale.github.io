---
layout: post
title: Vim - End of line characters!
excerpt: There are some dtds created with XmlSpy that are used by the system at work and for some reason they have mac style line endings (I really hope this isn't XmlSpy's doing...). Found the following link hugely helpful - http://vim.wikia.com/wiki/File_format.
date: '2011-06-17T21:10:00.001-04:00'
author: George Aristy
tags: 
modified_time: '2011-06-17T21:13:47.909-04:00'
blogger_id: tag:blogger.com,1999:blog-5903491164319093451.post-8758366237350053250
blogger_orig_url: http://llorllale.blogspot.com/2011/06/vim-end-of-line-characters.html
---

There are some dtds created with XmlSpy that are used by the system at work and for some reason they have mac style line endings (I really hope this isn't XmlSpy's doing...). Found the following link hugely helpful: http://vim.wikia.com/wiki/File_format<br /><br />Excerpt:<br /><br /><p></p><blockquote><p>A common problem is that you open a file and see <tt>^M</tt> at the end of many lines. Entering <tt style="white-space: nowrap;">:set ff?</tt>  will probably show that the file was read as unix: the problem is that  some lines actually end with CRLF. To fix this, you need to tell Vim to  read the file again using dos file format. When reading as dos, all CRLF  line endings, and all LF-only line endings, are removed. Then you need  to change the file format for the buffer and save the file. The  following procedures will easily handle this situation, but they only  work reliably on reasonably recent versions of Vim (7.2.40 or higher). </p> <dl><dt>Convert from dos/unix to unix </dt></dl> <p>To convert the current file from any mixture of CRLF/LF-only line endings, so all lines end with LF only: </p> <table class="cleartable"> <tbody><tr> <td><tt>:update</tt> </td><td> Save any changes. </td></tr> <tr> <td><tt>:e ++ff=dos</tt> </td><td> Edit file again, using dos file format (<tt>'fileformats'</tt> is ignored).<sup id="cite_ref-broken_0-0" class="reference"><a href="http://vim.wikia.com/wiki/File_format#cite_note-broken-0">[A 1]</a></sup> </td></tr> <tr> <td><tt>:setlocal ff=unix</tt> </td><td> This buffer will use LF-only line endings when written.<sup id="cite_ref-1" class="reference"><a href="http://vim.wikia.com/wiki/File_format#cite_note-1">[A 2]</a></sup> </td></tr> <tr> <td><tt>:w</tt> </td><td> Write buffer using unix (LF-only) line endings. </td></tr></tbody></table> <p>In the above, replacing <tt style="white-space: nowrap;">:set ff=unix</tt> with <tt style="white-space: nowrap;">:set ff=mac</tt> would write the file with mac (CR-only) line endings. Or, if it was a mac file to start with, you would use <tt style="white-space: nowrap;">:e ++ff=mac</tt> to read the file correctly, so you could convert the line endings to unix or dos. </p> <dl><dt>Convert from dos/unix to dos </dt></dl> <p>To convert the current file from any mixture of CRLF/LF-only line endings, so all lines end with CRLF only: </p>  <table class="cleartable"><tbody><tr> <td><tt>:update</tt> </td><td> Save any changes. </td></tr> <tr> <td><tt>:e ++ff=dos</tt> </td><td> Edit file again, using dos file format (<tt>'fileformats'</tt> is ignored).<sup id="cite_ref-broken_0-1" class="reference"><a href="http://vim.wikia.com/wiki/File_format#cite_note-broken-0">[A 1]</a></sup> </td></tr> <tr> <td><tt>:w</tt> </td><td> Write buffer using dos (CRLF) line endings. </td></tr></tbody></table></blockquote>
