<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Variance in Java" /><meta name="author" content="George Aristy" /><meta property="og:locale" content="en_US" /><meta name="description" content="Complicated if required learning for an exam, but generally intuitive and useful in daily practice." /><meta property="og:description" content="Complicated if required learning for an exam, but generally intuitive and useful in daily practice." /><link rel="canonical" href="https://georgearisty.dev/posts/java-variance/" /><meta property="og:url" content="https://georgearisty.dev/posts/java-variance/" /><meta property="og:site_name" content="George Aristy" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-04-10T00:00:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Variance in Java" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@George Aristy" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"George Aristy"},"dateModified":"2021-12-21T23:56:27-05:00","datePublished":"2019-04-10T00:00:00-04:00","description":"Complicated if required learning for an exam, but generally intuitive and useful in daily practice.","headline":"Variance in Java","mainEntityOfPage":{"@type":"WebPage","@id":"https://georgearisty.dev/posts/java-variance/"},"url":"https://georgearisty.dev/posts/java-variance/"}</script><title>Variance in Java | George Aristy</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="George Aristy"><meta name="application-name" content="George Aristy"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="/assets/lib/fonts/main.css"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="/assets/lib/bootstrap-4.6.1/bootstrap.min.css"><link rel="stylesheet" href="/assets/lib/fontawesome-free-5.15.4/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/lib/magnific-popup-1.1.0/magnific-popup.css"> <script src="/assets/lib/jquery-3.6.0/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/portrait.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">George Aristy</a></div><div class="site-subtitle font-italic">Blog about software craftmanship</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/bookshelf/" class="nav-link"> <i class="fa-fw fas fa-book ml-xl-3 mr-xl-3 unloaded"></i> <span>BOOKSHELF</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-project-diagram ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/talks/" class="nav-link"> <i class="fa-fw fas fa-comment ml-xl-3 mr-xl-3 unloaded"></i> <span>TALKS</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/llorllale" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['george.aristy','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/georgearisty/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://stackoverflow.com/users/1623885/george-aristy" aria-label="stack-overflow" target="_blank" rel="noopener"> <i class="fab fa-stack-overflow"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Variance in Java</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Variance in Java</h1><div class="post-meta text-muted"><div> By <em> <a href="https://www.linkedin.com/in/georgearisty">George Aristy</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1554868800" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2019-04-10 </em> </span> <span> Updated <em class="timeago" data-ts="1640148987" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2021-12-21 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1680 words"> <em>9 min</em> read</span></div></div></div><div class="post-content"><p>The other day I came across <a href="http://onoffswitch.net/8-months/">this</a> post describing what the author sees as pros and cons of Go after 8 months of experience. I mostly agree after working full time with Go for a comparable duration.</p><p>Despite that preamble, this is a post about Variance in <strong>Java</strong>, where my goal is to refresh my understanding of what Variance is and some of the nuances of its implementation in Java.</p><p>(<em>ProTip: You’ll need to know this for your <a href="https://education.oracle.com/oracle-certified-professional-java-se-8-programmer/trackp_357">OCJP</a> certificate exam.</em>)</p><p>I will write down my thoughts on this subject for Go in a later post.</p><h2 id="what-is-variance"><span class="mr-2">What is Variance?</span><a href="#what-is-variance" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>The Wikipedia article on <a href="https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)"><em>variance</em></a> says:</p><blockquote><p><strong>Variance</strong> refers to how subtyping between more complex types relates to subtyping between their components.</p></blockquote><p>“More complex types” here refers to higher level structures like containers and functions. So, variance is about the <em>assignment compatibility</em> between containers and functions composed of parameters that are connected via a <a href="https://en.wikipedia.org/wiki/Class_hierarchy">Type Hierarchy</a>. It allows the safe integration of parametric and subtype polymorphism<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>. Eg. can I assign the result of a function that returns a list of cats to a variable of type “list of animals”? Can I pass in a list of Audi cars to a method that accepts a list of cars? Can I insert a wolf in this list of animals?</p><p class="notice">In Java, variance is defined at the <strong>use-site</strong><sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup>.</p><h2 id="4-kinds-of-variance"><span class="mr-2">4 Kinds of Variance</span><a href="#4-kinds-of-variance" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Paraphrasing the wiki article, a type constructor is:</p><ul><li><strong>Covariant</strong> if it accepts subtypes but not supertypes<li><strong>Contravariant</strong> if it accepts supertypes but not subtypes<li><strong>Bivariant</strong> if it accepts both supertypes and subtypes<li><strong>Invariant</strong> if does not accept neither supertypes nor subtypes</ul><p>(Obviously the declared type parameter is accepted in all cases.)</p><h2 id="invariance-in-java"><span class="mr-2">Invariance in Java</span><a href="#invariance-in-java" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>The use-site must have no open bounds on the type parameter.</p><p class="notice">If <code class="language-plaintext highlighter-rouge">A</code> is a supertype of <code class="language-plaintext highlighter-rouge">B</code>, then <code class="language-plaintext highlighter-rouge">GenericType&lt;A&gt;</code> is <strong>not</strong> a supertype of <code class="language-plaintext highlighter-rouge">GenericType&lt;B&gt;</code> and vice versa.</p><p>This means these two types have no relation to each other and neither can be exchanged for the other under any circumstance.</p><h3 id="invariant-containers"><span class="mr-2">Invariant containers</span><a href="#invariant-containers" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>In Java, invariants are likely the first examples of generics you’ll encounter and are the most intuitive. The methods of the type parameter are useable as one would expect. All methods of the type parameter are accessible.</p><p>They cannot be exchanged:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Type hierarchy: Person :&gt; Joe :&gt; JoeJr</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Joe</span><span class="o">&gt;();</span> <span class="c1">// COMPILE ERROR (a bit counterintuitive, but remember List&lt;Person&gt; is invariant)</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">j</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;();</span> <span class="c1">// COMPILE ERROR</span></code></pre></figure><p>You can add objects to them:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Type hierarchy: Person :&gt; Joe :&gt; JoeJr</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">p</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">());</span> <span class="c1">// ok</span>
<span class="n">p</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Joe</span><span class="o">());</span> <span class="c1">// ok</span>
<span class="n">p</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JoeJr</span><span class="o">());</span> <span class="c1">// ok</span></code></pre></figure><p>You can read objects from them:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Type hierarchy: Person :&gt; Joe :&gt; JoeJr</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">joes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="nc">Joe</span> <span class="n">j</span> <span class="o">=</span> <span class="n">joes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span> <span class="c1">// ok</span>
<span class="nc">Person</span> <span class="n">p</span> <span class="o">=</span> <span class="n">joes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span> <span class="c1">// ok</span></code></pre></figure><h2 id="covariance-in-java"><span class="mr-2">Covariance in Java</span><a href="#covariance-in-java" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>The use-site must have an <em>open lower bound</em> on the type parameter.</p><p class="notice">If <code class="language-plaintext highlighter-rouge">B</code> is a subtype of <code class="language-plaintext highlighter-rouge">A</code>, then <code class="language-plaintext highlighter-rouge">GenericType&lt;B&gt;</code> is a subtype of <code class="language-plaintext highlighter-rouge">GenericType&lt;? extends A&gt;</code>.</p><h3 id="arrays-in-java-have-always-been-covariant"><span class="mr-2">Arrays in Java have always been covariant</span><a href="#arrays-in-java-have-always-been-covariant" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Before generics were introduced in Java <code class="language-plaintext highlighter-rouge">1.5</code>, arrays were the only generic containers available. They have always been covariant, eg. <code class="language-plaintext highlighter-rouge">Integer[]</code> is a subtype of <code class="language-plaintext highlighter-rouge">Object[]</code>. The compiler allows you to pass your <code class="language-plaintext highlighter-rouge">Integer[]</code> to a method that accepts <code class="language-plaintext highlighter-rouge">Object[]</code>. If the method inserts a supertype of <code class="language-plaintext highlighter-rouge">Integer</code>, an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ArrayStoreException.html">ArrayStoreException</a> is thrown at <em>runtime</em>. Covariant generic type rules implement this check at <em>compile time</em>, disallowing the mistake to ever happen in the first place.</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">Number</span><span class="o">[]</span> <span class="n">numbers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Number</span><span class="o">[]{</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">};</span>
  <span class="n">trick</span><span class="o">(</span><span class="n">numbers</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">trick</span><span class="o">(</span><span class="nc">Object</span><span class="o">[]</span> <span class="n">objects</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">objects</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Float</span><span class="o">(</span><span class="mi">123</span><span class="o">);</span>  <span class="c1">// ok</span>
  <span class="n">objects</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">();</span>  <span class="c1">// ArrayStoreException thrown at runtime</span>
<span class="o">}</span></code></pre></figure><h3 id="covariant-containers"><span class="mr-2">Covariant containers</span><a href="#covariant-containers" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Java allows subtyping (covariant) generic types but it places restrictions on what can “flow into and out of” these generic types in accordance with the Principle of Least Astonishment<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup>. In other words, methods with return values of the type parameter are accessible, while methods with input arguments of the type parameter are inaccessible.</p><p>You can exchange the supertype for the subtype:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Type hierarchy: Person :&gt; Joe :&gt; JoeJr</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Joe</span><span class="o">&gt;();</span> <span class="c1">// ok</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">JoeJr</span><span class="o">&gt;();</span> <span class="c1">// ok</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;();</span> <span class="c1">// COMPILE ERROR</span></code></pre></figure><p><em>Reading</em> from them is intuitive:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Type hierarchy: Person :&gt; Joe :&gt; JoeJr</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">joes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="nc">Joe</span> <span class="n">j</span> <span class="o">=</span> <span class="n">joes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span> <span class="c1">// ok</span>
<span class="nc">Person</span> <span class="n">p</span> <span class="o">=</span> <span class="n">joes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span> <span class="c1">// ok</span>
<span class="nc">JoeJr</span> <span class="n">jr</span> <span class="o">=</span> <span class="n">joes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span> <span class="c1">// compile error (you don't know what subtype of Joe is in the list)</span></code></pre></figure><p><em>Writing</em> to them is prohibited (counterintuitive) to guard against the pitfalls with arrays described <a href="#arrays-in-java-have-always-been-covariant">above</a>. Eg. in the example code below, the caller/owner of a <code class="language-plaintext highlighter-rouge">List&lt;Joe&gt;</code> would be <em>astonished</em> if someone else’s method with covariant arg <code class="language-plaintext highlighter-rouge">List&lt;? extends Person&gt;</code> added a <code class="language-plaintext highlighter-rouge">Jill</code>.</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Type hierarchy: Person &gt; Joe &gt; JoeJr</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">joes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">joes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Joe</span><span class="o">());</span>  <span class="c1">// compile error (you don't know what subtype of Joe is in the list)</span>
<span class="n">joes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JoeJr</span><span class="o">());</span> <span class="c1">// compile error (ditto)</span>
<span class="n">joes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">());</span> <span class="c1">// compile error (intuitive)</span>
<span class="n">joes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Object</span><span class="o">());</span> <span class="c1">// compile error (intuitive)</span></code></pre></figure><h2 id="contravariance-in-java"><span class="mr-2">Contravariance in Java</span><a href="#contravariance-in-java" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>The use-site must have an open <strong>upper</strong> bound on the type parameter.</p><p class="notice">If <code class="language-plaintext highlighter-rouge">A</code> is a supertype of <code class="language-plaintext highlighter-rouge">B</code>, then <code class="language-plaintext highlighter-rouge">GenericType&lt;A&gt;</code> is a supertype of <code class="language-plaintext highlighter-rouge">GenericType&lt;? super B&gt;</code>.</p><h3 id="contravariant-containers"><span class="mr-2">Contravariant containers</span><a href="#contravariant-containers" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Contravariant containers behave counterintuitively: contrary to covariant containers, access to methods with return values of the type parameter are <em>inaccessible</em> while methods with input arguments of the type parameter <em>are</em> accessible:</p><p>You can exchange the subtype for the supertype:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Type hierarchy: Person &gt; Joe &gt; JoeJr</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">joes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Joe</span><span class="o">&gt;();</span>  <span class="c1">// ok</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">joes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;();</span> <span class="c1">// ok</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">joes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">JoeJr</span><span class="o">&gt;();</span> <span class="c1">// COMPILE ERROR</span></code></pre></figure><p>Cannot capture a specific type when reading from them:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Type hierarchy: Person &gt; Joe &gt; JoeJr</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">joes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="nc">Joe</span> <span class="n">j</span> <span class="o">=</span> <span class="n">joes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span> <span class="c1">// compile error (could be Object or Person)</span>
<span class="nc">Person</span> <span class="n">p</span> <span class="o">=</span> <span class="n">joes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span> <span class="c1">// compile error (ditto)</span>
<span class="nc">Object</span> <span class="n">o</span> <span class="o">=</span> <span class="n">joes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span> <span class="c1">// allowed because everything IS-A Object in Java</span></code></pre></figure><p>You <em>can</em> add subtypes of the “lower bound”:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Type hierarchy: Person &gt; Joe &gt; JoeJr</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">joes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">joes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JoeJr</span><span class="o">());</span> <span class="c1">// allowed</span></code></pre></figure><p>But you <em>cannot</em> add supertypes:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Type hierarchy: Person &gt; Joe &gt; JoeJr</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">joes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">joes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">());</span> <span class="c1">// compile error (again, could be a list of Object or Person or Joe)</span>
<span class="n">joes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Object</span><span class="o">());</span> <span class="c1">// compile error (ditto)</span></code></pre></figure><h2 id="bivariance-in-java"><span class="mr-2">Bivariance in Java</span><a href="#bivariance-in-java" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>The use-site must declare an <strong>unbounded wildcard</strong> on the type parameter.</p><p>A generic type with an unbounded wildcard is a supertype of all bounded variations of the same generic type. Eg. <code class="language-plaintext highlighter-rouge">GenericType&lt;?&gt;</code> is a supertype of <code class="language-plaintext highlighter-rouge">GenericType&lt;String&gt;</code>. Since the unbounded type is the root of the type hierarchy, it follows that of its parametric types it can only access methods inherited from <code class="language-plaintext highlighter-rouge">java.lang.Object</code>.</p><p class="notice">Think of <code class="language-plaintext highlighter-rouge">GenericType&lt;?&gt;</code> as <code class="language-plaintext highlighter-rouge">GenericType&lt;Object&gt;</code>.</p><h2 id="variance-of-structures-with-n-type-parameters"><span class="mr-2">Variance of structures with N type parameters</span><a href="#variance-of-structures-with-n-type-parameters" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>What about more complex types such as Functions? Same principles apply, you just have more type parameters to consider:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Type hierarchy: Person &gt; Joe &gt; JoeJr</span>

<span class="c1">// Invariance</span>
<span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">,</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">personToJoe</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Joe</span><span class="o">,</span> <span class="nc">JoeJr</span><span class="o">&gt;</span> <span class="n">joeToJoeJr</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="n">personToJoe</span> <span class="o">=</span> <span class="n">joeToJoeJr</span><span class="o">;</span> <span class="c1">// COMPILE ERROR (personToJoe is invariant)</span>

<span class="c1">// Covariance</span>
<span class="nc">Function</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">Person</span><span class="o">,</span> <span class="o">?</span> <span class="kd">extends</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">personToJoe</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span> <span class="c1">// covariant</span>
<span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Joe</span><span class="o">,</span> <span class="nc">JoeJr</span><span class="o">&gt;</span> <span class="n">joeToJoeJr</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="n">personToJoe</span> <span class="o">=</span> <span class="n">joeToJoeJr</span><span class="o">;</span>  <span class="c1">// ok</span>

<span class="c1">// Contravariance</span>
<span class="nc">Function</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Joe</span><span class="o">,</span> <span class="o">?</span> <span class="kd">super</span> <span class="nc">JoeJr</span><span class="o">&gt;</span> <span class="n">joeToJoeJr</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span> <span class="c1">// contravariant</span>
<span class="nc">Function</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Person</span><span class="o">,</span> <span class="o">?</span> <span class="kd">super</span> <span class="nc">Joe</span><span class="o">&gt;</span> <span class="n">personToJoe</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="n">joeToJoeJr</span> <span class="o">=</span> <span class="n">personToJoe</span><span class="o">;</span> <span class="c1">// ok</span></code></pre></figure><h2 id="variance-and-inheritance"><span class="mr-2">Variance and Inheritance</span><a href="#variance-and-inheritance" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Java allows overriding methods with covariant return types and exception types:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">interface</span> <span class="nc">Person</span> <span class="o">{</span>
  <span class="nc">Person</span> <span class="nf">get</span><span class="o">();</span>
  <span class="kt">void</span> <span class="nf">fail</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">interface</span> <span class="nc">Joe</span> <span class="kd">extends</span> <span class="nc">Person</span> <span class="o">{</span>
  <span class="nc">JoeJr</span> <span class="nf">get</span><span class="o">();</span>
  <span class="kt">void</span> <span class="nf">fail</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">IOException</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">JoeImpl</span> <span class="kd">implements</span> <span class="nc">Joe</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="nc">JoeJr</span> <span class="nf">get</span><span class="o">()</span> <span class="o">{}</span> <span class="c1">// overridden</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">fail</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{}</span> <span class="c1">// overridden</span>
<span class="o">}</span></code></pre></figure><p>But attempting to override methods with covariant <em>arguments</em> results in merely an overload:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">interface</span> <span class="nc">Person</span> <span class="o">{</span>
  <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="nc">Person</span> <span class="n">p</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">interface</span> <span class="nc">Joe</span> <span class="kd">extends</span> <span class="nc">Person</span> <span class="o">{</span>
  <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="nc">Joe</span> <span class="n">j</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">JoeImpl</span> <span class="kd">implements</span> <span class="nc">Joe</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="nc">Person</span> <span class="n">p</span><span class="o">)</span> <span class="o">{}</span>  <span class="c1">// overloaded</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="nc">Joe</span> <span class="n">j</span><span class="o">)</span> <span class="o">{}</span> <span class="c1">// overloaded</span>
 <span class="o">}</span></code></pre></figure><h2 id="final-thoughts"><span class="mr-2">Final thoughts</span><a href="#final-thoughts" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Variance introduces additional complexity to Java. While the typing rules around variance are easy to understand, the rules regarding accessibility of methods of the type parameter are counterintuitive. Understanding them isn’t just “obvious” - it requires pausing to think through the logical consequences.</p><p>However, my daily experience has been that the nuances generally stay out of the way:</p><ul><li>I cannot recall an instance where I had to declare a contravariant argument, and I rarely encounter them (although they <em>do</em> <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#binarySearch-T:A-T-java.util.Comparator-">exist</a>).<li>Covariant arguments seem slightly more common (<a href="https://github.com/yegor256/cactoos/blob/dc9c4b4f7c995fa7d328a130ea3e8611f589bb59/src/main/java/org/cactoos/text/Joined.java#L76">example</a><sup id="fnref:4" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">4</a></sup>), but they’re easier to reason about (fortunately).</ul><p>Covariance is its strongest virtue considering that <a href="https://en.wikipedia.org/wiki/Subtyping">subtyping</a> is a fundamental technique of object-oriented programming (case in point: see note <sup id="fnref:4:1" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">4</a></sup>).</p><p><strong>Conclusion:</strong> variance provides moderate net benefits in my daily programming, particularly when compatibility with subtypes is required (which is a regular occurrence in OOP).</p><hr /><div class="footnotes" role="doc-endnotes"><ol><li id="fn:1" role="doc-endnote"><p><a href="https://yanniss.github.io/variance-pldi11.pdf">Taming the Wildcards: Combining Definition- and Use-Site Variance</a> by John Altidor, et. al. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p><li id="fn:2" role="doc-endnote"><p>As I understand it, the difference between use-site and definition-site variance is that the latter <em>requires</em> the variance be encoded into the generic type itself (think of having to declare <code class="language-plaintext highlighter-rouge">MyGenericType&lt;? extends Number&gt;</code>), forcing the API developer to preempt all use cases. C# defines variance at the definition-site. On the other hand, use-site variance doesn’t have this restriction - the API developer can simply declare his API as generic and let the user determine variance for his use cases. The downside of use-site invariance are the “hidden” surprises described above, all derived from “conceptual complexity, […] anticipation of generality at allusage points” (see <em>Taming the Wildcards</em> paper above). <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p><li id="fn:3" role="doc-endnote"><p><a href="https://en.wikipedia.org/wiki/Principle_of_least_astonishment">Principle of least astonishment</a> - Wikipedia. I vaguely remember a reference somewhere about the designers of Java following this principle but I can’t seem to find it now. <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p><li id="fn:4" role="doc-endnote"><p><code class="language-plaintext highlighter-rouge">Joined</code> concatenates several <code class="language-plaintext highlighter-rouge">Text</code>s. Declaring an invariant iterable of <code class="language-plaintext highlighter-rouge">Text</code> would make this constructor unusable to subtypes of <code class="language-plaintext highlighter-rouge">Text</code>. <a href="#fnref:4" class="reversefootnote" role="doc-backlink">&#8617;</a> <a href="#fnref:4:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p></ol></div></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a> <a href="/tags/variance/" class="post-tag no-text-decoration" >variance</a> <a href="/tags/generics/" class="post-tag no-text-decoration" >generics</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://t.me/share/url?url=https://georgearisty.dev/posts/java-variance/&amp;text=Variance in Java - George Aristy" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://georgearisty.dev/posts/java-variance/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <a href="https://news.ycombinator.com/submitlink?u=https://georgearisty.dev/posts/java-variance/&amp;t=Variance in Java - George Aristy" data-toggle="tooltip" data-placement="top" title="Hacker News" target="_blank" rel="noopener" aria-label="Hacker News"> <i class="fa-fw fab fa-hacker-news"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/kubectl-plugins/">Plugins I use with kubectl</a><li><a href="/posts/test-driven-development-by-example/">Test-Driven Development By Example</a><li><a href="/posts/ckad/">Certified Kubernetes Application Developer: My Experience</a><li><a href="/posts/clean-architecture/">Clean Architecture: A Craftsman's Guide to Software Structure and Design</a><li><a href="/posts/build-trap/">Escaping the Build Trap: How Effective Product Management Creates Real Value</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/go/">go</a> <a class="post-tag" href="/tags/golang/">golang</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/book/">book</a> <a class="post-tag" href="/tags/learning-go/">learning-go</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/vim/">vim</a> <a class="post-tag" href="/tags/concurrency/">concurrency</a> <a class="post-tag" href="/tags/elegant-objects/">elegant-objects</a></div></div></div><script src="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/java-raw-types/"><div class="card-body"> <em class="timeago small" data-ts="1507482180" > 2017-10-08 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java Raw Types</h3><div class="text-muted small"><p> I was recently confounded by a something unexpected in Java’s type-erasure. Consider the following snippets: public class Issue&amp;lt;T&amp;gt; { public List&amp;lt;String&amp;gt; list() { /* return a list...</p></div></div></a></div><div class="card"> <a href="/posts/golang-generics-first-look/"><div class="card-body"> <em class="timeago small" data-ts="1640062800" > 2021-12-21 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Golang - First look at generics</h3><div class="text-muted small"><p> This post is part of a series where I do my best to organize my thoughts around Go: its paradigms and usability as a programming language. I write this as a Java programmer that respects the princi...</p></div></div></a></div><div class="card"> <a href="/posts/jdbc-and-oracle-setnull/"><div class="card-body"> <em class="timeago small" data-ts="1286374440" > 2010-10-06 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JDBC and Oracle: setNULL</h3><div class="text-muted small"><p> I was surprised (and disappointed) by this behaviour (using Sun JVM 1.4 with Oracle DB 10g):String sql = “select count(distinct seq_no) from tmp_table where time_stamp = to_date(‘29/09/2010 07:00:0...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/golang-the-sql-package/" class="btn btn-outline-primary" prompt="Older"><p>Golang - The database/sql package</p></a> <a href="/posts/golang-apis-optional-params/" class="btn btn-outline-primary" prompt="Newer"><p>Golang - Optional Arguments for APIs</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "llorllale/llorllale.github.io", "data-repo-id": "MDEwOlJlcG9zaXRvcnk4MDM1Mjk5Ng==", "data-category": "Announcements", "data-category-id": "DIC_kwDOBMoW5M4COm92", "data-mapping": "title", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://www.linkedin.com/in/georgearisty">George Aristy</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/go/">go</a> <a class="post-tag" href="/tags/golang/">golang</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/book/">book</a> <a class="post-tag" href="/tags/learning-go/">learning-go</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/vim/">vim</a> <a class="post-tag" href="/tags/concurrency/">concurrency</a> <a class="post-tag" href="/tags/elegant-objects/">elegant-objects</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="/assets/lib/simple-jekyll-search-1.10.0/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="/assets/lib/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script> <script src="/assets/lib/lozad-1.16.0/lozad.min.js"></script> <script src="/assets/lib/clipboard-2.0.9/clipboard.min.js"></script> <script src="/assets/lib/dayjs-1.10.7/dayjs.min.js"></script> <script src="/assets/lib/dayjs-1.10.7/locale/en.min.js"></script> <script src="/assets/lib/dayjs-1.10.7/plugin/relativeTime.min.js"></script> <script src="/assets/lib/dayjs-1.10.7/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="/assets/lib/bootstrap-4.6.1/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-P9Y4YYSCTS"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-P9Y4YYSCTS'); }); </script>
